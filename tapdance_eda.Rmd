---
title: "tapdance_eda"
author: "Natalie Ghidali"
date: "4/15/2021"
output: 
  html_document:
      number_sections: true
      toc: true
      theme: united
      code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# loading packages and set seed
```{r, message = FALSE}
library(tidyverse)
library(tidymodels)
library(skimr)
library(janitor)

set.seed(42)
```

# Initial overview of data

### Source

We will be working with data on the amount of aid given through the Tuition Assistance Program (TAP) for New York universities from the years 2000-2019. The TAP is New York's largest financial aid grant program, assisting eligible New York residents pursue higher education. The dataset includes the dollar amounts of aid given to each recipient, as well as information regarding each recipients' family income, age group, university sector (e.g., public or private), level of study, and more. The dataset was provided by the New York State Higher Education Services Corporation, and it was downloaded from a New York state government data catalog. The dataset has about 288,000 rows, but we intend on focusing only on the years 2014-2019, which will reduce its size. 

### Load and clean dataset
```{r, message = FALSE}
tap_data <- read_csv("data/tap_dat.csv") %>% 
  clean_names() %>%
  mutate(
    level = factor(level),
    tap_level_of_study = factor(tap_level_of_study),
    sector_type = factor(sector_type),
    tap_sector_group = factor(tap_sector_group),
    recipient_age_group = ordered(recipient_age_group, 
                                  levels = c("under age 22",  "age 22 - 25", "age 26 - 35",  "age 36 - 50",  "over age 50")),
    tap_financial_status = factor(tap_financial_status),
    tap_award_schedule = factor(tap_award_schedule),
    tap_degree_or_non_degree = factor(tap_degree_or_non_degree),
    tap_schedule_letter = factor(tap_schedule_letter),
    income = as.numeric(sub(",","",str_extract(income_by_1_000_range, "\\d+,*\\d*")))
  ) %>%
  select(-income_by_1_000_range, -income_by_5_000_range, -income_by_10_000_range) %>% 
  filter(academic_year >= 2014)
```


### Skim

The resulting dataset contains 56,846 observations and 14 features. Of the 14 variables, 9 are factors and 5 are numeric. The variable `tap_recipient_ft_es`, which refers to the number of TAP recipients. There are no instances of missingness in the dataset.

```{r}
# skim full dataset
skim(tap_data)
```

### Skim outcome variable

```{r}
tap_data %>% ggplot(aes(sector_type, fill = sector_type)) +
  geom_bar() +
  scale_fill_discrete(
    guide = FALSE
  ) +
  labs(
    title = "Institution Type: Private vs. Public"
  ) +
  theme_bw()
```

```{r}
skim(tap_data$sector_type)
```

# Thorough univariate investigation of response and predictor variables

### Academic Year
```{r}

```

### Level
```{r}

```

### TAP Level of Study
```{r}

```

### Sector Type
```{r}

```

### TAP Sector Group
```{r}

```

### Recipient Age Group
```{r}

```

### TAP Financial Status
```{r}

```

### TAP Award Schedule
```{r}

```

### TAP Degree or NonDegree
```{r}

```

### TAP Schedule Letter
```{r}

```

### Income by $1000 Range
```{r}

```

### Income by $5000 Range
```{r}

```

### Income by $10000 Range
```{r}

```

### TAP Recipient Headcount
```{r}

```

### TAP Recipient FTEs
```{r}

```

### TAP Recipient Dollars
```{r}

```

# Interesting/important relationships between and among response variable(s) and predictor variables
```{r}

```

# General variable exploration
```{r}

```

